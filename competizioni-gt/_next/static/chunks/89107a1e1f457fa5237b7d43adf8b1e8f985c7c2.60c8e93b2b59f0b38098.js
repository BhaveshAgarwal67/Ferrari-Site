(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{NZQk:function(e,t,n){"use strict";var r=n("KI45");n("hfKm")(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){(0,m.default)(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.default)(e);if(t){var a=(0,O.default)(this).constructor;n=(0,f.default)(r,arguments,a)}else n=r.apply(this,arguments);return(0,y.default)(this,n)}}(r);function r(){return(0,v.default)(this,r),n.apply(this,arguments)}return(0,g.default)(r,[{key:"render",value:function(){var t=this.metadata.map((function(e,t){var n=e;return-1!==String((0,x.get)(e,"property","")).indexOf(":image")&&-1===String((0,x.get)(e,"property","")).indexOf(":image:")&&-1===String((0,x.get)(e,"content","")).indexOf("/")&&e.content&&(n=P({},n,{content:k.default.ferrariImageUrl(e.content,{width:1080})})),w("meta",(0,h.default)({key:t},n))})),n=w("title",null,this.title);return w(e,(0,h.default)({},this.props,{metadata:t,title:n}))}},{key:"metadata",get:function(){var e=(0,x.get)(this.props.pageData,"metadata",[]);if(e.some((function(e){return"og:image"===e.property}))){var t=[];e.some((function(e){return"og:image:width"===e.property}))||t.push({property:"og:image:width",content:"1200"}),e.some((function(e){return"og:image:height"===e.property}))||t.push({property:"og:image:height",content:"630"}),t.length>0&&(e=[].concat((0,p.default)(e),t))}return e}},{key:"title",get:function(){return(0,x.get)(this.props.pageData,"title","Ferrari")}}],[{key:"getInitialProps",value:function(t){var n;return d.default.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n={},!e.getInitialProps){r.next=5;break}return r.next=4,d.default.awrap(e.getInitialProps(t));case 4:n=r.sent;case 5:return r.abrupt("return",P({},n));case 6:case"end":return r.stop()}}),null,null,null,s.default)}}]),r}(S.default.Component);return(0,b.default)(t,"defaultProps",{pageData:{}}),t};var a=r(n("hfKm")),u=r(n("2Eek")),l=r(n("XoMD")),o=r(n("Jo+v")),c=r(n("4mXO")),i=r(n("pLtp")),f=r(n("pbKT")),s=r(n("eVuF")),d=r(n("ln6h")),p=r(n("TbGu")),h=r(n("htGi")),v=r(n("/HRN")),g=r(n("WaGi")),m=r(n("N9n2")),y=r(n("ZDA2")),O=r(n("/+P4")),b=r(n("xHqa")),S=r(n("q1tI")),x=n("T89o"),k=r(n("DOE8")),w=S.default.createElement;function I(e,t){var n=(0,i.default)(e);if(c.default){var r=(0,c.default)(e);t&&(r=r.filter((function(t){return(0,o.default)(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,b.default)(e,t,n[t])})):l.default?(0,u.default)(e,(0,l.default)(n)):I(Object(n)).forEach((function(t){(0,a.default)(e,t,(0,o.default)(n,t))}))}return e}},Nnea:function(e,t,n){"use strict";var r=n("5Uuq"),a=n("KI45");n("hfKm")(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){(0,m.default)(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!s.default)return!1;if(s.default.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call((0,s.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.default)(e);if(t){var a=(0,O.default)(this).constructor;n=(0,s.default)(r,arguments,a)}else n=r.apply(this,arguments);return(0,y.default)(this,n)}}(r);function r(){return(0,v.default)(this,r),n.apply(this,arguments)}return(0,g.default)(r,[{key:"componentDidUpdate",value:function(e,t){var n=(0,x.get)(this.props,"share.scrolled",null),r=(0,x.get)(e,"share.scrolled",null);n&&r!==n&&this.sharedFocusOn&&this.props.dispatch((0,k.addPopup)({params:this.sharedFocusOn,template:this.sharedFocusOn.type}))}},{key:"render",value:function(){return P(b.default.Fragment,null,P(e,this.props),P(I.PopupManager,null))}},{key:"sharedFocusOn",get:function(){var e=this.props,t=e.pageData,n=e.router,r=e.activeFocusOnCustom,a=(0,w.focusOnPayloadProxy)(r,n.query,n.asPath);return a||(0,w.getActiveFocusOn)(t.content.blocks,n.query.focusOn)}}],[{key:"getInitialProps",value:function(t){var n;return p.default.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n={},!e.getInitialProps){r.next=5;break}return r.next=4,p.default.awrap(e.getInitialProps(t));case 4:n=r.sent;case 5:return r.abrupt("return",M({},n));case 6:case"end":return r.stop()}}),null,null,null,d.default)}}]),r}(b.Component);return(0,S.connect)((function(e){return{share:e.share}}),null)(t)};var u=a(n("hfKm")),l=a(n("2Eek")),o=a(n("XoMD")),c=a(n("Jo+v")),i=a(n("4mXO")),f=a(n("pLtp")),s=a(n("pbKT")),d=a(n("eVuF")),p=a(n("ln6h")),h=a(n("xHqa")),v=a(n("/HRN")),g=a(n("WaGi")),m=a(n("N9n2")),y=a(n("ZDA2")),O=a(n("/+P4")),b=r(n("q1tI")),S=n("/MKj"),x=n("T89o"),k=n("DzDn"),w=n("Tzds"),I=n("jTJQ"),P=b.default.createElement;function T(e,t){var n=(0,f.default)(e);if(i.default){var r=(0,i.default)(e);t&&(r=r.filter((function(t){return(0,c.default)(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):o.default?(0,l.default)(e,(0,o.default)(n)):T(Object(n)).forEach((function(t){(0,u.default)(e,t,(0,c.default)(n,t))}))}return e}},Tzds:function(e,t,n){"use strict";var r=n("KI45");n("hfKm")(t,"__esModule",{value:!0}),t.default=t.getShareFocusOnMeta=t.focusOnPayloadProxy=t.changeCountrySlug=t.getActiveFocusOn=t.replaceMeta=void 0;var a=r(n("hfKm")),u=r(n("2Eek")),l=r(n("XoMD")),o=r(n("Jo+v")),c=r(n("4mXO")),i=r(n("pLtp")),f=r(n("8+Nu")),s=r(n("v7Px")),d=r(n("eVuF")),p=r(n("ln6h")),h=r(n("xHqa")),v=n("T89o"),g=r(n("DOE8")),m=n("19JU"),y=n("QmWs");function O(e,t){var n=(0,i.default)(e);if(c.default){var r=(0,c.default)(e);t&&(r=r.filter((function(t){return(0,o.default)(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):l.default?(0,u.default)(e,(0,l.default)(n)):O(Object(n)).forEach((function(t){(0,a.default)(e,t,(0,o.default)(n,t))}))}return e}var S=function(e,t,n){var r=new RegExp(":?(".concat(t,")$"));return(e||[]).map((function(e){return e.name&&r.test(e.name)||e.property&&r.test(e.property)?b({},e,{content:n}):e}))};t.replaceMeta=S;var x=function(e,t){return e.find((function(e){return e.slug===t}))},k=function(e,t){return e.map((function(e){return(0,v.get)(e,"focusOn",{})})).find((function(e){return(0,v.get)(e,"slug",!1)===t}))};t.getActiveFocusOn=k;t.changeCountrySlug=function(){var e=m.window.location.pathname||"";return"/"!==e&&(e=(e=e.replace(/\/?([a-z]{2}-[A-Z]{2})?(.*)/,"$2")).replace("/competizioni-gt","")),e};var w=function(e,t,n){var r,a,u,l,o,c,i,f,s,h,m,y,O;return p.default.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r=e.folderId,a=t.locale,u=t.focusOn,l=t.focusOnSection,d.next=4,p.default.awrap(g.default.thronToken());case 4:return d.next=6,p.default.awrap(g.default.thronContentCategory(r));case 6:if(o=d.sent,c=String(a.split("-")[0]).toUpperCase(),!(i=o.filter((function(e){var t=g.default.thronFindLocaleName(e.locales,c);return(0,v.kebabCase)(t)===u}))[0])){d.next=23;break}if(s=g.default.thronFindLocaleName(i.locales,c),h=g.default.thronUrlImg(i.id,"1200x600",i.id,"thumbnail",{scalemode:"auto"}),f={},"PLAYLIST"!==i.contentType){d.next=21;break}return d.next=16,p.default.awrap(g.default.thronContentPlaylist(i.id));case 16:m=d.sent,f.items=m.map((function(e){var t=e.deliveryInfoMinimal;return{landscapeBig:{id:t.dynThumbService},portraitMedium:{id:t.dynThumbService}}})),f.items[l]&&(y=f.items[l].landscapeBig.id,h=g.default.ferrariImageResource(y,{width:1200,height:600})),d.next=22;break;case 21:"VIDEO"===i.contentType&&(f.videoId=i.id);case 22:f=b({blockType:n,id:i.id,type:i.contentType,metadatas:i.metadatas,locales:i.locales,src:h,subSection:(0,v.kebabCase)(s),name:s},f);case 23:return O={},f&&(f.blockType=n,O={share:{title:f.name,image:f.src}}),d.abrupt("return",{focusOn:f,metadata:O});case 26:case"end":return d.stop()}}),null,null,null,d.default)},I=function(e,t){var n,r,a;return p.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.focusOn,r=(0,v.get)(e,"items",[]).map((function(e){return(0,v.get)(e,"focusOn",{})})).filter((function(e){return e.slug===n}))[0],a={},r&&(r.blockType="StoriesSlider",a={share:r.share}),u.abrupt("return",{focusOn:r,metadata:a});case 5:case"end":return u.stop()}}),null,null,null,d.default)},P=function(e,t){var n,r,a;return p.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.focusOn,r=(0,v.get)(e,"items",[]).map((function(e){return(0,v.get)(e,"focusOn",{})})).filter((function(e){return e.slug===n}))[0],a={},r&&(r.blockType="StoriesGeoSlider",a={share:r.share}),u.abrupt("return",{focusOn:r,metadata:a});case 5:case"end":return u.stop()}}),null,null,null,d.default)},T=function(e,t){var n,r;return p.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={},(r=(0,v.get)(t,"focusOn",!1)&&{videoId:(0,v.get)(e,"cover.intero.full",(0,v.get)(e,"cover.coverType.video.intero.full")),slug:(0,v.get)(e,"slug","")})&&(r.blockType="CoverPlayer",n={share:r.share}),a.abrupt("return",{focusOn:r,metadata:n});case 4:case"end":return a.stop()}}),null,null,null,d.default)},M=function(e,t,n){var r,a,u;return p.default.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,p.default.awrap(g.default.thronContentDetails(t.focusOn));case 2:if(r=l.sent,a={},u=[],r){l.next=7;break}return l.abrupt("return",{focusOn:a,metadata:u});case 7:return a={blockType:n,videoId:r.id,moduleSlug:t.slug},u={share:b({},e.share)},l.abrupt("return",{focusOn:a,metadata:u});case 10:case"end":return l.stop()}}),null,null,null,d.default)},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";switch(n){case"MediaGallery":case"MediaGalleryAdvanced":return w(e,t,n);case"StoriesGeoSlider":return P(e,t);case"StoriesSlider":return I(e,t);case"CoverPlayer":return T(e,t);case"FeaturedItems":return M(e,t,n);default:return(0,d.default)((function(e){return e(null)}))}};t.focusOnPayloadProxy=function(e,t,n){if(!(0,v.isPlainObject)(e))return null;switch(e.blockType){case"MediaGallery":case"MediaGalleryAdvanced":switch(e.type){case"PLAYLIST":var r=Number(t.focusOnSection);return{type:"image-carousel",items:(0,v.get)(e,"items").map((function(e){return{images:e}})),focusOnShare:n,startIndex:(0,s.default)(r)?0:r};case"VIDEO":return{type:"full-video",autoplay:!1,thronMediaId:(0,v.get)(e,"videoId"),focusOnShare:n};default:return{}}case"StoriesGeoSlider":case"StoriesSlider":return e;case"CoverPlayer":return{type:"full-video",autoplay:!1,thronMediaId:(0,v.get)(e,"videoId"),focusOnShare:n,moduleSlug:(0,v.get)(e,"slug")};case"FeaturedItems":var a=e.videoId,u=e.moduleSlug;return a&&u&&n?{type:"full-video",autoplay:!0,thronMediaId:a,focusOnShare:n,moduleSlug:u}:null;default:return null}};t.getShareFocusOnMeta=function(e,t,n){var r,a,u,l,o,c,i,s,h;return p.default.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(!(r=x(e.content.blocks,t.slug))){d.next=18;break}if(-1===["MediaGallery","MediaGalleryAdvanced","StoriesSlider","StoriesGeoSlider","CoverPlayer","FeaturedItems"].indexOf(r.type)){d.next=12;break}return d.next=5,p.default.awrap(D(r,t,r.type));case 5:l=d.sent,o=l.focusOn,c=l.metadata,a=o,u=c,d.next=13;break;case 12:a=k(e.content.blocks,t.focusOn);case 13:return(0,v.get)(u,"share",!1)?i=u:(0,v.get)(r,"share",!1)&&(i=r),s=e.metadata,i&&(h=i.share,(0,v.toPairs)(h).forEach((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];s=S(s,n,r)}))),s=S(s,"url",new y.URL(n,"https://www.ferrari.com/competizioni-gt")),d.abrupt("return",{focusOn:a,metadata:s});case 18:return d.abrupt("return",null);case 19:case"end":return d.stop()}}),null,null,null,d.default)};t.default={}}}]);