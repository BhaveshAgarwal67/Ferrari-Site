(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{H0SL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("cMU6")}])},cMU6:function(e,t,n){"use strict";var r=n("KI45"),a=n("Jo+v"),u=n("hfKm"),i=n("G4HQ"),o=n("pbKT");u(t,"__esModule",{value:!0}),t.default=void 0;var l=R(n("q1tI")),s=r(n("eVuF")),c=r(n("ln6h")),f=r(n("/HRN")),d=r(n("K47E")),p=r(n("WaGi")),h=r(n("N9n2")),v=r(n("ZDA2")),m=r(n("/+P4")),w=r(n("xHqa")),y=n("eHHv"),g=n("ANjH"),S=r(n("SbWC")),b=r(n("8Kt/")),k=n("T89o"),N=n("19JU"),H=r(n("kQFM")),O=r(n("qyhG")),E=r(n("9qRu")),q=(n("wY8V"),n("0vEF")),F=n("gGHL"),P=n("mJQZ"),T=(n("QyOH"),n("sk4W")),A=n("LXYO"),_=r(n("/tWa")),I=(r(n("tn3X")),r(n("DOE8"))),C=n("oTHJ"),D=r(n("s+xg")),L=r(n("Nnea")),x=r(n("WZaA")),M=r(n("NZQk")),W=r(n("hzb8")),J=r(n("SHU5")),U=(n("Fbiq"),n("rdom"),R(n("8ANe"))),G=r(n("t3G4")),K=R(n("sd54"));function Q(e){if("function"!==typeof i)return null;var t=new i,n=new i;return(Q=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var r={},i=u&&a;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?a(e,o):null;l&&(l.get||l.set)?u(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var V=l.default.createElement;function Z(e){var t=function(){if("undefined"===typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;n=o(r,arguments,a)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}var z=function(e){(0,h.default)(n,e);var t=Z(n);function n(e){var r;return(0,f.default)(this,n),r=t.call(this,e),(0,w.default)((0,d.default)(r),"scenes",[]),(0,w.default)((0,d.default)(r),"chapterWrappers",[]),r.state={activeOrigin:null},r}return(0,p.default)(n,null,[{key:"changeCountrySlug",value:function(){var e=N.window.location.pathname||"";return"/"!==e&&(e=(e=e.replace(/\/?([a-z]{2}-[A-Z]{2})?(.*)/,"$2")).replace("/ristorante-cavallino","")),e}},{key:"shareSectionFullUrl",value:function(e){var t=String(N.window.location.pathname).split("/share")[0];return"".concat(t,"/share/").concat(e)}}]),(0,p.default)(n,[{key:"componentDidMount",value:function(){var e,t=this;return c.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:(e=this.props.thronSessId)&&I.default.setSessId(e),setTimeout((function(){t.hideSplash()}),1e3),this.setActiveOrigin();case 4:case"end":return n.stop()}}),null,this,null,s.default)}},{key:"componentWillUnmount",value:function(){this.chapterController&&this.chapterController.destroy(!0),window.removeEventListener("resize",this.setScenesDuration)}},{key:"setActiveOrigin",value:function(){this.setState({activeOrigin:_.default.findTree(this.props.menuPillars,window.location.href)})}},{key:"hideSplash",value:function(){this.props.setSplash(!1)}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.metadata,a=e.pageData,u=e.openEnquireForm,i=e.openNewsletterForm,o=this.state.activeOrigin,l={};l=G.default.setOrganismsMultiNaming(l,U),l=G.default.setEditorialNaming(l,U.Editorial);var s=a.template||(0,k.get)(a,"commonProperties.overview","default"),c=G.default.pageTemplate(s,K);return(0,C.breakpointIsLessThan)("phone",this.props.breakpoint.size)&&a.carHeader&&(a.carHeader.logoPosition="left"),V("div",null,V(b.default,null,t,r),V(W.default,{autoVisibility:!0}),V(J.default,null),V(c,{pageData:a,blockTypes:l,dispatch:this.props.dispatch,templateName:s,menu:{activeOrigin:o,openEnquireForm:u,openNewsletterForm:i},footer:{referrer:n.changeCountrySlug(),origin:"RISTORANTE_CAVALLINO"}}))}}]),n}(l.Component);(0,w.default)(z,"getInitialProps",(function(e){var t,n,r,a,u,i;return c.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.req,t=e.query,n=e.isServer,r=e.store,a=t.locale,u={},i=[],n&&(i.push(O.default.superheader(a).then((function(e){return e.data.results})).then((function(e){var t=e.content;r.dispatch((0,F.setPillars)(t.pillars))})).catch((function(e){return(0,E.default)(e)}))),i.push(O.default.superfooter(a).then((function(e){return e.data.results})).then((function(e){var t=e.content;r.dispatch((0,P.setFooterData)(t))})).catch((function(e){return(0,E.default)(e)})))),i.push(O.default.index(a).then((function(e){var t=e.data;u=t.results,r.dispatch((0,A.setChannelVariables)((0,k.get)(u,"variables",[])))})).catch((function(e){return(0,E.default)(e)}))),o.next=8,c.default.awrap(s.default.all(i));case 8:return r.dispatch((0,q.setSplash)(n)),r.dispatch((0,T.setEnquireData)(u.enquireForm)),o.abrupt("return",{locale:a,pageData:u,openEnquireForm:"open"===t.enquire,openNewsletterForm:"open"===t.newsletter,thronSessId:(0,k.get)(u,"commonProperties.videoPlayer.sessId",!1)});case 11:case"end":return o.stop()}}),null,null,null,s.default)}));var X=(0,y.compose)((0,S.default)(H.default,(function(e){return{breakpoint:e.breakpoint,menuPillars:e.menu.pillars,hiddenHeader:e.menu.hidden}}),(function(e){return(0,g.bindActionCreators)({setSplash:q.setSplash},e)})),x.default,M.default,D.default,L.default)(z);t.default=X}},[["H0SL",1,2,4,7,8,9,11,6,10,5,0,3,12,13,14]]]);